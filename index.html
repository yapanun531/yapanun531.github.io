<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<script type="text/javascript">
    document.getElementById('Test').onclick = async function (db) {
        const dataCol = collection(db, 'data');
        const dataSnapshot = await getDocs(dataCol);
        const dataList = dataSnapshot.docs.map(doc => doc.data());
        console.log(dataList)
    }

    var colleges = ['請選擇學院', '文學院', '藝術學院', '傳播學院', '教育學院', '醫學院', '理工學院', '外國語文學院', '民生學院', '法律學院', '社會科學院', '管理學院', '織品服裝學院', '全人教育課程中心', '進修部'];
    var collegeSelect = document.getElementById("p_college");
    var inner = "";
    for (var i = 0; i < colleges.length; i++) {
        inner = inner + '<option value=' + colleges[i] + '>' + colleges[i] + '</option>';
    }
    collegeSelect.innerHTML = inner;

    Telegram.WebApp.ready();
    Telegram.WebApp.MainButton.setText('註冊').show().onClick(function () {
        const data = JSON.stringify({ hex: colorPicker.color.hexString, rgb: colorPicker.color.rgb });
        Telegram.WebApp.sendData(data);
        Telegram.WebApp.close();
    });
</script>

<body>
    <input type='button' id="Test" value="按鈕">
    <div class="inputBox">
        <select class="form-select" name="p_college" id="p_college" onchange="getData.name" required></select>
        <span>姓名</span>
    </div>
    <div class="inputBox">
        <input type="text" required>
        <span>帳號:</span>
    </div>
    <div class="inputBox">
        <input type="text" required>
        <span>密碼:</span>
    </div>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyAaPPnnGtr7ST7VAtndpHpcjCiHQGRqJIU",
        authDomain: "ballbibot.firebaseapp.com",
        databaseURL: "https://ballbibot-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "ballbibot",
        storageBucket: "ballbibot.appspot.com",
        messagingSenderId: "219189772667",
        appId: "1:219189772667:web:afa8215b0b5067ee7a3dde",
        measurementId: "G-C3VVW57EVV"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    Telegram.WebApp.expand();
</script>

</html>
